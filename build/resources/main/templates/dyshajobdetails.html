<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Détails du Job</title>
  <link rel="stylesheet" th:href="@{/css/dyshajobdetails.css}" type="text/css" href="../static/css/dyshajobdetails.css"/>
  <link rel="stylesheet" th:href="@{/css/jobindex.css}" type="text/css" href="../static/css/jobindex.css"/>
</head>
<body  th:class="'job-ad'"
       th:style="'--job-bg-image: url(data:image/jpeg;base64,' + ${job.encodedImage} + ')'">
<header th:replace="fragments/general.html :: dyshaJobsHeader"></header>
<main>
  <section class="job-details">
    <div th:if="${globalUser.user.role.name() == 'ROLE_ADMIN' && job.hasNoImage()}" class="jobs"> <a th:href="@{/dyshajobs/files/{tablename}/{entityid} (tablename=${job.tableName()}, entityid=${job.id})}">Yo boss Stp Ajouter une Image pour ce Job</a></div>
    <h2 th:text="${job.title} + ' chez ' + ${job.employeur}"></h2>
    <p th:text="${job.description}"></p>
    <p>Posté le <span th:text="${job.postedDate}"></span> par <span th:text="${job.employeur}"></span> à <span th:text="${job.location}"></span></p>
    <div th:if="${globalUser.dyshaUserExist() && !globalUser.alreadyPostlutlateFor(job.getId())}" class="postuler" > <a th:href="@{/dyshajobs/postuler/{jobId}(jobId=${job.id})}" class="btn btn-primary">Postuler</a></div>
    <div th:if="${globalUser.dyshaUserExist() && globalUser.alreadyPostlutlateFor(job.getId())}" class="postuler" > <a th:href="@{/dyshajobs/mesDyshaJobs}" class="btn btn-primary">Vous serrez contacté par l'annonceur a propos de ce DyshaJob</a></div>
    <div th:if="${!globalUser.dyshaUserExist()}" class="postuler" > <a th:href="@{/dyshajobs/newdyshaworker/}" class="btn btn-primary">Ajouter une descriptrion si vous voulez postuler</a></div>
  </section>
</main>
<footer th:replace="fragments/general.html :: dyshaJobsFooter"></footer>
</body>
</html>
