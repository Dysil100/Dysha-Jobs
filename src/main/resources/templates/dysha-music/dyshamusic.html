<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/dyshamusic.css}" type="text/css" href="../static/css/dyshamusic.css"/>
    <link rel="stylesheet" th:href="@{/css/DyshaMusicIndex.css}" type="text/css" href="../static/css/DyshaMusicIndex.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="/js/dyshamusic.js" th:src="@{/js/dyshamusic.js}"></script>
    <title>Dysha Music</title>
</head>
<body>
<header th:replace="fragments/general.html :: dyshmusicheader"></header>
    <div id="musicPlayerSection" th:style="${musicPlayerVisible} ? 'display: block;' : 'display: none;'">
        <div id="currentMusic">
            <img th:src="@{/dysha_files/{fileName}(fileName=${dyshamusic.thumbnailFileName})}" alt="#" src="#">
            <p th:text="${dyshamusic.title}"></p>
            <p th:text="${dyshamusic.user.fullName}"></p>
            <audio controls th:src="@{/dysha_files/{fileName}(fileName=${dyshamusic.musicFileName})}">
                Your browser does not support the audio element.
            </audio>
        </div>
        <div id="playlist">
            <div class="playlist-item" th:each="music : ${playlist}">
                <a th:href="@{/dyshamusic/{musicFileName}(musicFileName=${music.musicFileName})}">
                    <img th:src="@{/dysha_files/{fileName}(fileName=${music.thumbnailFileName})}" alt="" src="#">
                    <p th:text="${music.title + ' - ' + music.user.fullName}"></p>
                    <audio controls th:src="@{/dysha_files/{fileName}(fileName=${music.musicFileName})}">
                        Your browser does not support the audio element.
                    </audio>
                </a>
            </div>
        </div>
    </div>
<main>
    <!--div class="container d-flex justify-content-center my-4 mb-5">
            < Card >
        <div class="card">
            <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                <img class="card-img-top" th:src="@{/dysha_files/{fileName}(fileName=${dyshamusic.thumbnailFileName})}" src="https://mdbootstrap.com/wp-content/uploads/2019/02/flam.jpg"
                     alt="Card image cap">
                <a href="#!">
                    <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                </a>
            </div>
            <div class="card-body text-center">

                <h5 class="h5 font-weight-bold"><a th:text="${dyshamusic.user.fullName}" th:href="@{dyshamusic/{username}(username=${dyshamusic.user.fullName})}" target="_blank">Dj Flam</a></h5>
                <p class="mb-0" th:text="${dyshamusic.title}">Urban Bachata remix</p>

                <audio id="music" preload="auto">
                    <source th:src="@{/dysha_files/{musicFile}(musicFile=${dyshamusic.musicFileName})}" src="#">
                </audio>
                <div id="audioplayer">
                    <i id="pButton" class="fas fa-play" onclick="playPauseMusic()"></i>
                    <div id="timeline">
                        <div id="playhead"></div>
                    </div>
                </div>
            </div>
        </div>
            < Card>
    </div>
    < Content >
        <div class=" container row cant d-flex justify-content-center align-items-center">
            <h2 class="playlist-title">Try this Playlist</h2>
            <div class="p-3 card" >
                <div th:each="dyshamusic : ${playlist}" class="d-flex justify-content-between align-items-center p-3 music">
                    <a th:href="@{/dyshamusic/{musicFileName}(musicFileName = ${dyshamusic.musicFileName})}">
                        <div class="d-flex flex-row align-items-center">
                            <i class="fa fa-music color">
                                <!img th:src="@{/dysha_files/{fileName}(fileName=${dyshamusic.thumbnailFileName})}" alt="Thumbnail" src="#">
                            </i>
                            <small th:text="${dyshamusic.user.fullName} + ' - ' + ${dyshamusic.title}" class="ml-2">Shannon jin pride - The Usual [Beat, Jess Scott]</small>
                        </div>
                    </a>
                    <i class="fa fa-check color"></i>
                </div>
            </div>
        </div-->
</main>
</body>
</html>